# ![report](https://icongr.am/octicons/comment-discussion.svg?size=22&color=abb4bf) Â  Playwright Report Comment

[![GitHub Super-Linter](https://github.com/actions/typescript-action/actions/workflows/linter.yml/badge.svg)](https://github.com/super-linter/super-linter)
![CI](https://github.com/actions/typescript-action/actions/workflows/ci.yml/badge.svg)

A GitHub action to report Playwright test results as pull request comments.

- Parse the rest report generated by Playwright
- Generate a summary of the test results
- Post the summary as a pull request comment

## Examples

![passed test](assets/comment-passed.png)

![failed test](assets/comment-failed.png)

## Usage

### Basic usage

Note that Playwright must be configured to generate a JSON report file
on disk and this action must receive the report file path as input.

```yaml
jobs:
  test:
    name: Run playwright tests
    needs: install
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-node@v3
        with:
          node-version: 20
      - run: PLAYWRIGHT_JSON_OUTPUT_NAME=results.json npx playwright test --reporter json
      - uses: daun/playwright-report-comment@v1
        with:
          report-file: results.json
```

### With all options

```yaml
- uses: actions/setup-node@v3
  with:
    # The GitHub access token to use for API requests. Defaults to the standard GITHUB_TOKEN.
    github-token: ''

    # Path to the JSON report file generated by Playwright. Required.
    report-file: 'result.json'

    # URL to the generated html report, if uploaded.
    # Note that you must upload the report yourself.
    report-url: 'https://user.github.io/repo/yyyy-mm-dd-id/'

    # Title to use for the pull request comment that is created.
    # Default: Playwright test results
    comment-title: 'Results'

    # The icon style to use for embellishing test reports and stats: octicons | emojis
    # Default: octicons
    icon-style: 'emojis'
```
